#!/bin/bash
readonly FILE_PATH="$HOME/worklog/$(date "+%y%m%d").txt"

output_logs () {
  echo "[$(date "+%Y/%m/%d %p %I:%M:%S")] $*" >>$FILE_PATH
}

create_file () {
  touch $FILE_PATH
}

if [ -e $FILE_PATH ]; then
  output_logs $*
else
  if [ -d $(dirname $FILE_PATH) ]; then
    create_file
    output_logs $*
  fi
  mkdir $(dirname $FILE_PATH)
  create_file
  output_logs $*
fi
